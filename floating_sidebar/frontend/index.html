<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Floating Sidebar</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@streamlit/component-lib@1.0.0/dist/index.umd.js"></script>
  <style>
    body { margin: 0; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script>
    const { Streamlit } = window.streamlitComponentLib;

    function onRender(event) {
      const data = event.detail;
      const items = data.args["items"] || [];
      const defaultItem = data.args["default"];

      function handleClick(item) {
        Streamlit.setComponentValue(item);
      }

      const sidebar = React.createElement(
        'div',
        { style: {
            position: 'fixed',
            top: 0,
            left: 0,
            width: '200px',
            height: '100%',
            background: '#f0f0f0',
            boxShadow: '2px 0 5px rgba(0,0,0,0.1)',
            padding: '1rem',
            overflowY: 'auto',
          }
        },
        items.map((item, i) => React.createElement(
          'div',
          {
            key: i,
            onClick: () => handleClick(item),
            style: {
              marginBottom: '0.5rem',
              cursor: 'pointer',
              fontWeight: item === defaultItem ? 'bold' : 'normal'
            }
          },
          item
        ))
      );

      ReactDOM.render(sidebar, document.getElementById('root'));
      Streamlit.setFrameHeight(0);
    }

    Streamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender);
    Streamlit.setComponentReady();
    Streamlit.setFrameHeight(0);
  </script>
</body>
</html>
